常用关键字
---------------

关键字具有非常特殊的含义，它们是编程语言对外提供的接口的一部分。



### for 和 range

除了经典的 for 三段式循环外，Go 语言还引入了另一个关键字 range 帮助我们快速遍历数组、切片、哈希表和 channel 等集合类型。

#### 经典循环

经典循环在编译器看起来是一个 `OFOR` 类型的节点，该节点由以下 4 部分组成：

* 初始化循环的 `Ninit`
* 循环的继续条件 `Left`
* 循环体结束时执行的 `Right`
* 循环体 `NBody`

#### 范围循环

在编译器期间，编译器会将所有 for-range 循环变为经典循环。节点的转换过程发生在中间代码生成阶段，所有的 for-range 循环都会被编译器转换成不包含复杂结构、只包含基本表达式的语句。

##### 数组与切片

**对于所有的 range 循环，Go 语言都会在编译器将原切片或者数组赋值给一个新变量（发生了复制）**

##### 哈希表

在遍历哈希表时，编译器会使用 `runtime.mapiterinit` 和 `runtime.mapiternext` 两个运行时函数重写原始的 for-range 循环。

##### 字符串

遍历字符串的过程与遍历数组、切片和哈希表非常相似，只是在遍历时会获取字符串中的索引和对应字节并将其转换成 rune 类型。

##### channel

该循环会使用 `<-ch` 从 channel 中取出待处理的值，这个操作会调用 `runtime.chanrecv2` 并阻塞当前协程，当 `runtime.chanrecv2` 返回时会根据布尔值判断是否需要跳出循环。



### select

